# Transcript of Class on 2024-05-22



## Attendees

- Chizuru Yamauchi

- Ioannis Laventzakis

- Michelle Janer

- Mikel Bano

- Muyang Zander

- Rene Heyer

- Robin Hagolani

- Safwan Kh

- Shoghik Kachatryan

- Terissa Gwendjo

- Youssef ElKhoury

- Zuehre Turhan



## Class Transcript



### Introduction

**Safwan Kh:** Hi, good morning everyone. How was your long weekend? Did you manage to make any changes to your resume?



**Robin Hagolani:** I didn't spend much time on the computer over the weekend.



**Safwan Kh:** That's healthier. It's good to disconnect from digital screens and engage with the real world. Now, can anyone remind me what Java is?



### Class Participation and Management

**Safwan Kh:** We are focusing on individual levels now. Don't feel pressured; you are doing fine. Rene, please meet me after lunch in a breakout room to discuss your situation. Remember, joining the class means more than just having your name on the list. Please do the exercises and assessments. Your results are visible to the management.



**Michelle Janer:** I'm sorry, I couldn't hear you earlier. What did you say at the beginning?



**Safwan Kh:** No worries, Michelle. I started the transcript today. We talked about the long weekend and the role of every individual in the class. Students should be doing the exercises most of the time, and this will reflect on their levels.



### Assignments and Assessments

**Safwan Kh:** Last time, we discussed two new annotations: `@Transactional` and `@Modifying`. I gave you an assignment, which is due today after lunch. There will be a new assignment today, but it won't be mandatory for today. Tomorrow, you will have the first assessment for the framework module, which will be due by Monday.



**Michelle Janer:** When is the deadline for the mandatory assignment?



**Safwan Kh:** You need to finish it after lunch and submit it before the end of the day. We can discuss any questions in a breakout room after lunch.



### Project Setup

**Safwan Kh:** Let's start with the project setup. We will create an online banking system. This assignment is considered easy to medium in difficulty. We will use IntelliJ IDEA for this project.



1. **Create a Maven Project:**

   - Open IntelliJ IDEA and create a new Maven project.

   - Configure the `pom.xml` file with the necessary dependencies and properties.



2. **Initialize Git Repository:**

   - Initialize a local Git repository using `git init`.

   - Connect to the remote repository using `git remote add origin <URL>`.

   - Pull changes from the remote repository using `git pull origin main`.



3. **Project Structure:**

   - Create the necessary packages: `model`, `repository`, `service`, `controller`.

   - Create the main application class and configure it.



### Entity and Repository Layers

**Safwan Kh:** Let's create the `Account` entity class with the following attributes: `id`, `accountNumber`, `accountType`, and `balance`. The `accountNumber` should be unique and generated by a utility class.



1. **Account Entity:**

   ```java

   @Entity

   public class Account {

       @Id

       @GeneratedValue(strategy = GenerationType.SEQUENCE)

       private Long id;

       private String accountNumber;

       private String accountType;

       private double balance;



       // Getters, Setters, and Constructors

   }

   ```



2. **Account Repository:**

   ```java

   @Repository

   public interface AccountRepository extends JpaRepository<Account, Long> {

       Account findByAccountNumber(String accountNumber);

   }

   ```



### Service Layer

**Safwan Kh:** We will create an interface `BankingService` and its implementation `BankingServiceImpl`.



1. **BankingService Interface:**

   ```java

   public interface BankingService {

       void openNewAccount(String accountType, double initialDeposit);

       void depositMoney(String accountNumber, double amount);

       void withdrawMoney(String accountNumber, double amount);

       void transferMoney(String fromAccount, String toAccount, double amount);

   }

   ```



2. **BankingServiceImpl Implementation:**

   ```java

   @Service

   public class BankingServiceImpl implements BankingService {

       @Autowired

       private AccountRepository accountRepository;



       @Transactional

       @Modifying

       public void openNewAccount(String accountType, double initialDeposit) {

           Account account = new Account();

           account.setAccountNumber(AccountNumberGenerator.generateAccountNumber());

           account.setAccountType(accountType);

           account.setBalance(initialDeposit);

           accountRepository.save(account);

       }



       @Transactional

       @Modifying

       public void depositMoney(String accountNumber, double amount) {

           Account account = accountRepository.findByAccountNumber(accountNumber);

           if (account != null) {

               account.setBalance(account.getBalance() + amount);

               accountRepository.save(account);

           }

       }



       @Transactional

       @Modifying

       public void withdrawMoney(String accountNumber, double amount) {

           Account account = accountRepository.findByAccountNumber(accountNumber);

           if (account != null && account.getBalance() >= amount) {

               account.setBalance(account.getBalance() - amount);

               accountRepository.save(account);

           } else {

               throw new RuntimeException("Account not exists or insufficient funds for withdrawal");

           }

       }



       @Transactional

       @Modifying

       public void transferMoney(String fromAccount, String toAccount, double amount) {

           withdrawMoney(fromAccount, amount);

           depositMoney(toAccount, amount);

       }

   }

   ```



### Controller Layer

**Safwan Kh:** Finally, we will create the `BankingController` class to handle HTTP requests.



1. **BankingController:**

   ```java

   @Controller

   public class BankingController {

       @Autowired

       private BankingService bankingService;



       @GetMapping("/")

       public String showHomePage() {

           return "home";

       }



       @GetMapping("/accounts/new")

       public String showNewAccountForm() {

           return "newAccount";

       }



       @PostMapping("/accounts/new")

       public String createNewAccount(@RequestParam String accountType, @RequestParam double initialDeposit) {

           bankingService.openNewAccount(accountType, initialDeposit);

           return "redirect:/";

       }



       // Other mappings for deposit, withdraw, and transfer

   }

   ```



### Conclusion

**Safwan Kh:** We have covered the project setup, entity, repository, service, and controller layers. Your task after lunch is to complete the remaining parts of the assignment. This will be evaluated, and tomorrow you will have an assessment. See you after lunch.




